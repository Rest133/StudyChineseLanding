"use strict";window.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".content").querySelectorAll(".block"),t=document.querySelector(".content").querySelectorAll(".change-block-btn_next"),n=document.querySelector(".content").querySelectorAll(".change-block-btn_prev"),o=1;function c(){e.forEach((e,t)=>{e.classList.remove("block_active-mobile"),e.classList.add("block_hide"),o===t&&(e.classList.add("block_active-mobile"),e.classList.remove("block_hide")),null!==e.querySelector(".inner-block__pagination")&&e.querySelector(".inner-block__pagination").parentNode.insertBefore(e.querySelector(".inner-block__pagination"),e.querySelector(".inner-block__row"))})}function i(){e.forEach((e,t)=>{e.classList.add("block_hide"),o===t&&(e.classList.remove("block_hide"),null!==e.querySelector(".change-block-btn_next")&&e.querySelector(".change-block-btn_next").classList.add("change-block-btn__absolute"),null!==e.querySelector(".change-block-btn_prev")&&e.querySelector(".change-block-btn_prev").classList.add("change-block-btn__absolute"),null!==e.querySelector(".tower-inner-image")&&(e.querySelector(".tower-inner-image").style.opacity=1))})}function l(t=0){$("html, body").animate({scrollTop:$(e[o]).offset().top+t},{duration:1e3,easing:"swing"})}function r(){window.matchMedia("(min-width: 768px)").matches&&(o=9,i(),document.body.style.overflow="hidden"),$("html, body").animate({scrollTop:$(e[9]).offset().top-250},{duration:7e3,easing:"swing"}),document.body.style.overflow="auto"}window.onbeforeunload=function(){window.scrollTo(0,0)},e.forEach((t,n)=>{null!==t.querySelector(".inner-block_tower")&&(t.querySelector(".popup-close__mobile").addEventListener("click",(function(){t.classList.remove("block_active-mobile"),e.forEach(e=>{e.classList.remove("block_hide")})})),t.querySelector(".inner-block_tower").addEventListener("click",e=>{window.matchMedia("(min-width: 768px)").matches&&(o=n,i()),window.matchMedia("(max-width: 767px)").matches&&(o=n,c(),l(-50))}),function(e){let t=e.querySelectorAll(".inner-block__slide");if(null!==t&&t.length>1){let n=function(e,t){let n,o="",c=e.querySelector(".inner-block__pagination");for(let e=0;e<t;e++)o+='<button class="inner-block__pagination-button"/>';return c.innerHTML=o,n=c.querySelectorAll(".inner-block__pagination-button"),n.forEach(e=>{e.addEventListener("click",()=>{n.forEach(e=>{e.classList.remove("inner-block__pagination-button_active")}),e.classList.add("inner-block__pagination-button_active")})}),c}(e,t.length).querySelectorAll(".inner-block__pagination-button");n[0].classList.add("inner-block__pagination-button_active"),t.forEach((e,t)=>{n[t].classList.contains("inner-block__pagination-button_active")||e.classList.add("inner-block__slide_hide")}),n.forEach(e=>{e.addEventListener("click",()=>{t.forEach((e,t)=>{n[t].classList.contains("inner-block__pagination-button_active")?(e.style.animation="show 3s",e.classList.remove("inner-block__slide_hide")):(e.style.animation="hide 3s",e.classList.add("inner-block__slide_hide"))})})})}}(t))}),window.addEventListener("scroll",r,{once:!0}),document.querySelector(".saying-block__btn").addEventListener("click",()=>{window.removeEventListener("scroll",r),r()},{once:!0}),t.forEach((t,n)=>{window.matchMedia("(max-width: 767px)").matches?(t.textContent=e[n+2].querySelector(".inner-block__title").textContent,t.addEventListener("click",(function(){o++,c(),l(-50)}))):(t.textContent=e[n+2].querySelector(".inner-block__title").textContent,t.addEventListener("click",(function(){o<e.length-1&&o++,i(),l(o<5?-150:-230)})))}),n.forEach((t,n)=>{window.matchMedia("(max-width: 767px)").matches?(t.textContent=e[n+1].querySelector(".inner-block__title").textContent,t.addEventListener("click",(function(){o--,c(),l(-50)}))):(t.textContent=e[n+1].querySelector(".inner-block__title").textContent,t.addEventListener("click",(function(){o>1&&o--,i(),l(1===o?0:o<5?-150:-230)})))}),document.querySelectorAll(".btn_subscribe").forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault(),$(".popup-wrapper").fadeIn(),$(".popup-wrapper").css("display","flex"),document.querySelector(".popup-wrapper").querySelector(".popup-close").addEventListener("click",(function(){$(".popup-wrapper").fadeOut()})),document.querySelector(".popup-wrapper").querySelector(".btn_close-popup").addEventListener("click",(function(){$(".popup-wrapper").fadeOut()}))}))})});